{"ast":null,"code":"import _slicedToArray from\"C:/Users/saike/Desktop/CTS/onlineshopping_cts_ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{UpdateProductStatusSlice}from\"../store/slice/ProductSlice\";import{useDispatch}from\"react-redux\";import React,{useState,useEffect}from\"react\";import{useLocation,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UpdateProductStatus(){var navigate=useNavigate();var dispatch=useDispatch();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),productStatus=_useState2[0],setProductsStatus=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),product=_useState4[0],setproduct=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),hasError=_useState6[0],setHasError=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),ErrorMessage=_useState8[0],setErrorMessage=_useState8[1];var location=useLocation();useEffect(function(){setproduct(location.state.ProductDetails);},[location.state.ProductDetails]);function handleSubmit(evt){evt.preventDefault();if(product.productStatus===null||product.productStatus===undefined||product.productStatus===\"\"||productStatus===0){setHasError(true);setErrorMessage(\"Product Status is not selected\");}else{dispatch(UpdateProductStatusSlice({productStatus:product.productStatus,id:product._Id})).unwrap().then(function(originalPromiseResult){if(originalPromiseResult.isSuccess){navigate(\"/Products\");}else{setHasError(true);setErrorMessage(originalPromiseResult.message);return;}}).catch(function(rejectedValueOrSerializedError){setHasError(true);setErrorMessage(rejectedValueOrSerializedError.ErrorMessage);return;});}}function handleInputChange(e){e.stopPropagation();switch(e.target.id){case\"status\":if(e.target.value===\"0\"){setHasError(true);setErrorMessage(\"Product Status is not selected\");}else{if(e.target.value===\"1\"){product.productStatus=\"OUT OF STOCK\";product.availableQuantity=0;setProductsStatus(1);}else{product.productStatus=\"HURRY UP TO PURCHASE\";product.availableQuantity=10;setProductsStatus(2);}setHasError(false);}break;default:break;}}return/*#__PURE__*/_jsx(\"section\",{className:\"h-100 h-custom\",style:{backgroundColor:\"#8fc4b7\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"container py-5 h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex justify-content-center align-items-center h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8 col-xl-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card rounded-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-4 p-md-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-4 pb-2 pb-md-0 mb-md-5 px-md-2\",children:\"Update Product Status\"}),hasError&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:[ErrorMessage,\", Please verify\"]}),/*#__PURE__*/_jsxs(\"form\",{className:\"px-md-2\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-outline mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"ProductName\",placeholder:\"Product Name*\",onChange:function onChange(e){return handleInputChange(e);},value:product.productName,readOnly:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-outline mb-4\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",id:\"status\",onChange:function onChange(e){return handleInputChange(e);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",selected:true,children:\"---Select Product Status ---\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"HURRY UP TO PURCHASE\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"OUT OF STOCK\"})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-dark btn-lg mb-1\",children:\"Update Status\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success btn-lg m-2\",onClick:function onClick(){return navigate(\"/Products\");},children:\"Go Back\"})]})]})})})})})});}export default UpdateProductStatus;","map":{"version":3,"names":["UpdateProductStatusSlice","useDispatch","React","useState","useEffect","useLocation","useNavigate","UpdateProductStatus","navigate","dispatch","productStatus","setProductsStatus","product","setproduct","hasError","setHasError","ErrorMessage","setErrorMessage","location","state","ProductDetails","handleSubmit","evt","preventDefault","undefined","id","_Id","unwrap","then","originalPromiseResult","isSuccess","message","catch","rejectedValueOrSerializedError","handleInputChange","e","stopPropagation","target","value","availableQuantity","backgroundColor","productName"],"sources":["C:/Users/saike/Desktop/CTS/onlineshopping_cts_ui/src/components/UpdateProductStatus.js"],"sourcesContent":["import { UpdateProductStatusSlice } from \"../store/slice/ProductSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport React, { useState,useEffect } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\n\r\n\r\nfunction UpdateProductStatus() {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const [productStatus, setProductsStatus]= useState(0);\r\n  const [product,setproduct]= useState({});\r\n  const [hasError, setHasError] = useState(false);\r\n  const [ErrorMessage, setErrorMessage] = useState();\r\n  var location= useLocation();\r\n  useEffect(() => {\r\n\r\n    setproduct(location.state.ProductDetails)\r\n  },[location.state.ProductDetails]);\r\n\r\n  function handleSubmit(evt) {\r\n\r\n    evt.preventDefault();\r\n    if(product.productStatus===null || product.productStatus=== undefined || product.productStatus===\"\" || productStatus===0){\r\n      setHasError(true);\r\n          setErrorMessage(\"Product Status is not selected\");\r\n    }\r\n    else{\r\n      dispatch(UpdateProductStatusSlice({ productStatus: product.productStatus,id:product._Id }))\r\n        .unwrap()\r\n        .then((originalPromiseResult) => {\r\n          if (originalPromiseResult.isSuccess) {\r\n            navigate(\"/Products\");\r\n          } else {\r\n            setHasError(true);\r\n            setErrorMessage(originalPromiseResult.message);\r\n            return;\r\n          }\r\n        })\r\n        .catch((rejectedValueOrSerializedError) => {\r\n          setHasError(true);\r\n          setErrorMessage(rejectedValueOrSerializedError.ErrorMessage);\r\n          return;\r\n        });\r\n      }\r\n  }\r\n\r\n  function handleInputChange(e) {\r\n    e.stopPropagation();\r\n    switch (e.target.id) {\r\n      \r\n      case \"status\":\r\n        if(e.target.value===\"0\"){\r\n          setHasError(true);\r\n          setErrorMessage(\"Product Status is not selected\")\r\n        }\r\n        else{\r\n          if(e.target.value===\"1\"){\r\n            product.productStatus = \"OUT OF STOCK\";\r\n            product.availableQuantity=0;\r\n            setProductsStatus(1)\r\n          }\r\n          else{\r\n            product.productStatus = \"HURRY UP TO PURCHASE\";\r\n            product.availableQuantity=10\r\n            setProductsStatus(2)\r\n\r\n          }\r\n          setHasError(false);\r\n        }\r\n        \r\n        \r\n        break;\r\n          default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section className=\"h-100 h-custom\" style={{ backgroundColor: \"#8fc4b7\" }}>\r\n      <div className=\"container py-5 h-100\">\r\n        <div className=\"row d-flex justify-content-center align-items-center h-100\">\r\n          <div className=\"col-lg-8 col-xl-6\">\r\n            <div className=\"card rounded-3\">\r\n              <div className=\"card-body p-4 p-md-5\">\r\n                <h3 className=\"mb-4 pb-2 pb-md-0 mb-md-5 px-md-2\">\r\n                  Update Product Status\r\n                </h3>\r\n                {hasError && (\r\n                  <div className=\"alert alert-danger\" role=\"alert\">\r\n                    {ErrorMessage}, Please verify\r\n                  </div>\r\n                )}\r\n                <form className=\"px-md-2\" onSubmit={handleSubmit}>\r\n                  <div className=\"form-outline mb-4\">\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      id=\"ProductName\"\r\n                      placeholder=\"Product Name*\"\r\n                      onChange={(e) => handleInputChange(e)}\r\n                      value={product.productName}\r\n                      readOnly\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"form-outline mb-4\">\r\n                    <select className=\"form-control\" id=\"status\"  onChange={(e) => handleInputChange(e)}>\r\n                    <option value=\"0\" selected>---Select Product Status ---</option>\r\n\r\n                      <option value=\"2\">HURRY UP TO PURCHASE</option>\r\n                      <option value=\"1\">OUT OF STOCK</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <button type=\"submit\" className=\"btn btn-dark btn-lg mb-1\">\r\n                    Update Status\r\n                  </button>\r\n                  <button type=\"submit\" className=\"btn btn-success btn-lg m-2\" onClick={()=>(navigate(\"/Products\"))}>\r\n                    Go Back\r\n                  </button>\r\n                </form>\r\n                \r\n              </div>\r\n             \r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default UpdateProductStatus;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}