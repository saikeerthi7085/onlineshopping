{"ast":null,"code":"import _slicedToArray from\"C:/Users/saike/Desktop/CTS/onlineshopping_cts_ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{AddNewProduct}from\"../store/slice/ProductSlice\";import{useDispatch}from\"react-redux\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{Products}from\"../store/models/Products\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Product=new Products();function AddNewProductsView(){var navigate=useNavigate();var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),hasError=_useState2[0],setHasError=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),ErrorMessage=_useState4[0],setErrorMessage=_useState4[1];function handleSubmit(evt){evt.preventDefault();if(Product.productStatus===null||Product.productStatus===undefined||Product.productStatus===\"\"){setHasError(true);setErrorMessage(\"Product Status is not selected\");}else{dispatch(AddNewProduct({Product:Product})).unwrap().then(function(originalPromiseResult){if(originalPromiseResult.isSuccess){navigate(\"/Products\");}else{setHasError(true);setErrorMessage(originalPromiseResult.message);return;}}).catch(function(rejectedValueOrSerializedError){setHasError(true);setErrorMessage(rejectedValueOrSerializedError.ErrorMessage);return;});}}function handleInputChange(e){e.stopPropagation();switch(e.target.id){case\"ProductName\":Product.productName=e.target.value;setHasError(false);break;case\"Description\":Product.productDescription=e.target.value;setHasError(false);break;case\"Features\":Product.features=e.target.value;setHasError(false);break;case\"Price\":Product.price=e.target.value;setHasError(false);break;case\"status\":if(e.target.value===0){setHasError(true);setErrorMessage(\"Product Status is not selected\");}else{if(e.target.value===1){Product.productStatus=\"OUT OF STOCK\";Product.availableQuantity=0;}else{Product.productStatus=\"HURRY UP TO PURCHASE\";Product.availableQuantity=10;}setHasError(false);}break;default:break;}}return/*#__PURE__*/_jsx(\"section\",{className:\"h-100 h-custom\",style:{backgroundColor:\"#8fc4b7\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"container py-5 h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex justify-content-center align-items-center h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8 col-xl-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card rounded-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-4 p-md-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-4 pb-2 pb-md-0 mb-md-5 px-md-2\",children:\"Add New Product\"}),hasError&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:[ErrorMessage,\", Please verify\"]}),/*#__PURE__*/_jsxs(\"form\",{className:\"px-md-2\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-outline mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"ProductName\",placeholder:\"Product Name*\",onChange:function onChange(e){return handleInputChange(e);},required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-outline mb-4\",children:/*#__PURE__*/_jsx(\"textarea\",{type:\"textarea\",className:\"form-control\",id:\"Description\",placeholder:\"Description*\",onChange:function onChange(e){return handleInputChange(e);},required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-outline mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"Features\",placeholder:\"Features*\",onChange:function onChange(e){return handleInputChange(e);},required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-outline mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"Price\",placeholder:\"Price*\",onChange:function onChange(e){return handleInputChange(e);},required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-outline mb-4\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",id:\"status\",onChange:function onChange(e){return handleInputChange(e);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"---Select Product Status ---\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"HURRY UP TO PURCHASE\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"OUT OF STOCK\"})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-dark btn-lg mb-1\",children:\"Add Product\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success btn-lg m-2\",onClick:function onClick(){return navigate(\"/Products\");},children:\"Go Back\"})]})]})})})})})});}export default AddNewProductsView;","map":{"version":3,"names":["AddNewProduct","useDispatch","React","useState","useNavigate","Products","Product","AddNewProductsView","navigate","dispatch","hasError","setHasError","ErrorMessage","setErrorMessage","handleSubmit","evt","preventDefault","productStatus","undefined","unwrap","then","originalPromiseResult","isSuccess","message","catch","rejectedValueOrSerializedError","handleInputChange","e","stopPropagation","target","id","productName","value","productDescription","features","price","availableQuantity","backgroundColor"],"sources":["C:/Users/saike/Desktop/CTS/onlineshopping_cts_ui/src/components/AddNewProductsView.js"],"sourcesContent":["import { AddNewProduct } from \"../store/slice/ProductSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Products } from \"../store/models/Products\";\r\n\r\nconst Product = new Products();\r\nfunction AddNewProductsView() {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const [hasError, setHasError] = useState(false);\r\n  const [ErrorMessage, setErrorMessage] = useState();\r\n\r\n  function handleSubmit(evt) {\r\n\r\n    evt.preventDefault();\r\n    if(Product.productStatus===null || Product.productStatus=== undefined || Product.productStatus===\"\"){\r\n      setHasError(true);\r\n          setErrorMessage(\"Product Status is not selected\");\r\n    }\r\n    else{\r\n      dispatch(AddNewProduct({ Product: Product }))\r\n        .unwrap()\r\n        .then((originalPromiseResult) => {\r\n          if (originalPromiseResult.isSuccess) {\r\n            navigate(\"/Products\");\r\n          } else {\r\n            setHasError(true);\r\n            setErrorMessage(originalPromiseResult.message);\r\n            return;\r\n          }\r\n        })\r\n        .catch((rejectedValueOrSerializedError) => {\r\n          setHasError(true);\r\n          setErrorMessage(rejectedValueOrSerializedError.ErrorMessage);\r\n          return;\r\n        });\r\n      }\r\n  }\r\n\r\n  function handleInputChange(e) {\r\n    e.stopPropagation();\r\n    switch (e.target.id) {\r\n      case \"ProductName\":\r\n        Product.productName = e.target.value;\r\n        setHasError(false);\r\n        break;\r\n\r\n      case \"Description\":\r\n        Product.productDescription = e.target.value;\r\n        setHasError(false);\r\n        break;\r\n      case \"Features\":\r\n        Product.features = e.target.value;\r\n\r\n        setHasError(false);\r\n        break;\r\n      case \"Price\":\r\n        Product.price = e.target.value;\r\n\r\n        setHasError(false);\r\n        break;\r\n      case \"status\":\r\n        if(e.target.value===0){\r\n          setHasError(true);\r\n          setErrorMessage(\"Product Status is not selected\")\r\n        }\r\n        else{\r\n          if(e.target.value===1){\r\n            Product.productStatus = \"OUT OF STOCK\";\r\n            Product.availableQuantity=0\r\n          }\r\n          else{\r\n            Product.productStatus = \"HURRY UP TO PURCHASE\";\r\n            Product.availableQuantity=10\r\n           \r\n          }\r\n          setHasError(false);\r\n        }\r\n        \r\n        \r\n        break;\r\n          default:\r\n        break;\r\n    }\r\n  }\r\n  return (\r\n    <section className=\"h-100 h-custom\" style={{ backgroundColor: \"#8fc4b7\" }}>\r\n      <div className=\"container py-5 h-100\">\r\n        <div className=\"row d-flex justify-content-center align-items-center h-100\">\r\n          <div className=\"col-lg-8 col-xl-6\">\r\n            <div className=\"card rounded-3\">\r\n              <div className=\"card-body p-4 p-md-5\">\r\n                <h3 className=\"mb-4 pb-2 pb-md-0 mb-md-5 px-md-2\">\r\n                  Add New Product\r\n                </h3>\r\n                {hasError && (\r\n                  <div className=\"alert alert-danger\" role=\"alert\">\r\n                    {ErrorMessage}, Please verify\r\n                  </div>\r\n                )}\r\n                <form className=\"px-md-2\" onSubmit={handleSubmit}>\r\n                  <div className=\"form-outline mb-4\">\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      id=\"ProductName\"\r\n                      placeholder=\"Product Name*\"\r\n                      onChange={(e) => handleInputChange(e)}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-outline mb-4\">\r\n                    <textarea\r\n                      type=\"textarea\"\r\n                      className=\"form-control\"\r\n                      id=\"Description\"\r\n                      placeholder=\"Description*\"\r\n                      onChange={(e) => handleInputChange(e)}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-outline mb-4\">\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      id=\"Features\"\r\n                      placeholder=\"Features*\"\r\n                      onChange={(e) => handleInputChange(e)}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-outline mb-4\">\r\n                    <input\r\n                      type=\"number\"\r\n                      className=\"form-control\"\r\n                      id=\"Price\"\r\n                      placeholder=\"Price*\"\r\n                      onChange={(e) => handleInputChange(e)}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-outline mb-4\">\r\n                    <select className=\"form-control\" id=\"status\"  onChange={(e) => handleInputChange(e)}>\r\n                    <option value=\"0\">---Select Product Status ---</option>\r\n\r\n                      <option value=\"2\">HURRY UP TO PURCHASE</option>\r\n                      <option value=\"1\">OUT OF STOCK</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <button type=\"submit\" className=\"btn btn-dark btn-lg mb-1\">\r\n                    Add Product\r\n                  </button>\r\n                  <button type=\"submit\" className=\"btn btn-success btn-lg m-2\" onClick={()=>(navigate(\"/Products\"))}>\r\n                    Go Back\r\n                  </button>\r\n                </form>\r\n                \r\n              </div>\r\n             \r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default AddNewProductsView;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}