{"ast":null,"code":"import _slicedToArray from\"C:/Users/saike/Desktop/CTS/onlineshopping_cts_ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{ResetPasswordAction}from\"../store/slice/UserSlice\";import{useDispatch}from\"react-redux\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ResetPassword(){var navigate=useNavigate();var dispatch=useDispatch();var _useState=useState(),_useState2=_slicedToArray(_useState,2),newPassword=_useState2[0],setnewPassword=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),hasError=_useState4[0],setHasError=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),ErrorMessage=_useState6[0],setErrorMessage=_useState6[1];function handleSubmit(evt){evt.preventDefault();var loginId=localStorage.getItem(\"LoginId\");dispatch(ResetPasswordAction({loginId:loginId,newPassword:newPassword})).unwrap().then(function(originalPromiseResult){if(originalPromiseResult.isSuccess){localStorage.setItem(\"LoginId\",loginId);navigate(\"/Products\",{state:{userDetails:originalPromiseResult.user}});}else{setHasError(true);setErrorMessage(originalPromiseResult.message);return;}}).catch(function(rejectedValueOrSerializedError){setHasError(true);setErrorMessage(rejectedValueOrSerializedError);return;});};return/*#__PURE__*/_jsx(\"section\",{className:\"h-100 h-custom\",style:{backgroundColor:\"#8fc4b7\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"container py-5 h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex justify-content-center align-items-center h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8 col-xl-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card rounded-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-4 p-md-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-4 pb-2 pb-md-0 mb-md-5 px-md-2\",children:\"Reset Password\"}),hasError&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:[ErrorMessage,\", Please verify\"]}),/*#__PURE__*/_jsxs(\"form\",{className:\"px-md-2\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-outline mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"loginId\",placeholder:\"Login Id*\",value:localStorage.getItem(\"LoginId\"),readOnly:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-outline mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"New Password*\",id:\"password\",onChange:function onChange(e){return setnewPassword(e.target.value);},required:true})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-dark btn-lg mb-1\",children:\"Reset Password\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success btn-lg m-2\",onClick:function onClick(){return navigate(\"/Products\");},children:\"Go Back\"})]})]})})})})})});}export default ResetPassword;","map":{"version":3,"names":["ResetPasswordAction","useDispatch","React","useState","useNavigate","ResetPassword","navigate","dispatch","newPassword","setnewPassword","hasError","setHasError","ErrorMessage","setErrorMessage","handleSubmit","evt","preventDefault","loginId","localStorage","getItem","unwrap","then","originalPromiseResult","isSuccess","setItem","state","userDetails","user","message","catch","rejectedValueOrSerializedError","backgroundColor","e","target","value"],"sources":["C:/Users/saike/Desktop/CTS/onlineshopping_cts_ui/src/components/ResetPassword.js"],"sourcesContent":["import { ResetPasswordAction } from \"../store/slice/UserSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction ResetPassword() {\r\n    const navigate = useNavigate();\r\n   const dispatch = useDispatch();\r\n    const [newPassword, setnewPassword] = useState();\r\n    const [hasError, setHasError] = useState(false);\r\n    const [ErrorMessage, setErrorMessage] = useState();\r\n  \r\n    function handleSubmit (evt)  {\r\n      evt.preventDefault();\r\n  const loginId= localStorage.getItem(\"LoginId\");\r\n      dispatch(ResetPasswordAction({ loginId: loginId, newPassword: newPassword }))\r\n        .unwrap()\r\n        .then((originalPromiseResult) => {\r\n          if (originalPromiseResult.isSuccess) {\r\n         \r\n            localStorage.setItem(\"LoginId\", loginId);\r\n            navigate(\"/Products\",{state:{userDetails:originalPromiseResult.user}});\r\n        } else {\r\n            setHasError(true);\r\n            setErrorMessage(originalPromiseResult.message);\r\n            return;\r\n          }\r\n        })\r\n        .catch((rejectedValueOrSerializedError) => {\r\n          setHasError(true);\r\n          setErrorMessage(rejectedValueOrSerializedError);\r\n          return;\r\n        });\r\n    };\r\n  \r\n   \r\n    return (\r\n      <section className=\"h-100 h-custom\" style={{ backgroundColor: \"#8fc4b7\" }}>\r\n      <div className=\"container py-5 h-100\">\r\n      <div className=\"row d-flex justify-content-center align-items-center h-100\">\r\n  \r\n            <div className=\"col-lg-8 col-xl-6\">\r\n              <div className=\"card rounded-3\">\r\n                <div className=\"card-body p-4 p-md-5\">\r\n                  <h3 className=\"mb-4 pb-2 pb-md-0 mb-md-5 px-md-2\">Reset Password</h3>\r\n                  {hasError &&\r\n                  <div className=\"alert alert-danger\" role=\"alert\">\r\n                    {ErrorMessage}, Please verify\r\n                </div>\r\n                }\r\n                  <form className=\"px-md-2\" onSubmit={handleSubmit}>\r\n                    <div className=\"form-outline mb-4\">\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        id=\"loginId\"\r\n                        placeholder=\"Login Id*\"\r\n                       value={localStorage.getItem(\"LoginId\")}\r\n                        readOnly\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-outline mb-4\">\r\n                      <input\r\n                        type=\"password\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"New Password*\"\r\n                        id=\"password\"\r\n                        onChange={(e) =>( setnewPassword(e.target.value))}\r\n                        required\r\n                      />\r\n                    </div>\r\n                    <button\r\n                      type=\"submit\"\r\n                      className=\"btn btn-dark btn-lg mb-1\"\r\n                     \r\n                    >\r\n                      Reset Password\r\n                    </button>\r\n                    <button type=\"submit\" className=\"btn btn-success btn-lg m-2\" onClick={()=>(navigate(\"/Products\"))}>\r\n                    Go Back\r\n                  </button>\r\n                  </form>\r\n               \r\n                </div>\r\n              </div>\r\n            </div>\r\n            </div>\r\n       </div>\r\n       </section>\r\n  );\r\n}\r\nexport default ResetPassword;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}